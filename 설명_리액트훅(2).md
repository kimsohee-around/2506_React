## ë¦¬ì•¡íŠ¸ í›…(Hook)

**í›…(Hook)** ì€ React í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ Reactì˜ ìƒíƒœ(state), ìƒëª…ì£¼ê¸°(lifecycle), context API ë“±ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

ëŒ€í‘œì ì¸ í›…: useState, useEffect, useRef, useContext, useReducer, useCallback, useMemo, ë“±

### useState í›…

- ê°œë…:
  ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ìƒíƒœ(state)ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í›…

- í˜¸ì¶œ ì‹œ ë°°ì—´ì„ ë°˜í™˜: [í˜„ì¬ ìƒíƒœ ê°’, ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜]

ì‚¬ìš© ì˜ˆì‹œ:

```jsx
import { useState } from "react";

function Counter() {
  const [count, setCount] = useState(0); // ì´ˆê¸°ê°’ì€ 0

  return (
    <div>
      <p>í˜„ì¬ ì¹´ìš´íŠ¸: {count}</p>
      <button onClick={() => setCount(count + 1)}>+1</button>
    </div>
  );
}
```

- íŠ¹ì§•:
  - ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ìë™ìœ¼ë¡œ ë¦¬ë Œë”ë§
  - useStateëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•¨

### useRef í›…

- ê°œë…:
  DOM ìš”ì†Œì— ì§ì ‘ ì ‘ê·¼í•˜ê±°ë‚˜, ë Œë”ë§ê³¼ ë¬´ê´€í•œ ê°’ì„ ì €ì¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í›…

- ë³€ê²½í•´ë„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§í•˜ì§€ ì•ŠìŒ

- ì‚¬ìš© ì˜ˆì‹œ 1: DOMì— ì§ì ‘ ì ‘ê·¼

```jsx
import { useRef } from "react";

function FocusInput() {
  const inputRef = useRef(null);

  const handleFocus = () => {
    inputRef.current.focus(); // DOM ìš”ì†Œì— ì§ì ‘ ì ‘ê·¼
  };

  return (
    <>
      <input ref={inputRef} type="text" />
      <button onClick={handleFocus}>í¬ì»¤ìŠ¤ ì´ë™</button>
    </>
  );
}
```

- ì‚¬ìš© ì˜ˆì‹œ 2: ê°’ ì €ì¥ ìš©ë„ (ì˜ˆ: ì´ì „ ê°’ ê¸°ì–µ)

```jsx
import { useEffect, useRef, useState } from "react";

function PreviousValue() {
  const [count, setCount] = useState(0);
  const prevCount = useRef(0);

  useEffect(() => {
    prevCount.current = count;
  }, [count]);

  return (
    <div>
      <p>í˜„ì¬ ê°’: {count}</p>
      <p>ì´ì „ ê°’: {prevCount.current}</p>
      <button onClick={() => setCount(count + 1)}>+1</button>
    </div>
  );
}
```

- íŠ¹ì§•:
  .current ì†ì„±ì„ í†µí•´ ê°’ì— ì ‘ê·¼

- ê°’ì´ ë°”ë€Œì–´ë„ ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠìŒ

- ì£¼ë¡œ setTimeout, setInterval, ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ‘ê·¼, ì´ì „ ê°’ ì €ì¥ ë“±ì— ì‚¬ìš©

### useEffect í›…

useEffectëŠ” ë¦¬ì•¡íŠ¸ì˜ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶€ìˆ˜ íš¨ê³¼(side effect)ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ í›…ì…ë‹ˆë‹¤.

#### âœ… ì£¼ìš” ìš©ë„

- ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ëœ ì§í›„ ì–´ë–¤ ì‘ì—…ì„ ì‹¤í–‰í•  ë•Œ
- ë°ì´í„° ìš”ì²­, êµ¬ë… ì„¤ì •, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ë“± ì™¸ë¶€ì™€ì˜ ìƒí˜¸ì‘ìš©
- íƒ€ì´ë¨¸, ì• ë‹ˆë©”ì´ì…˜, ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì œì–´
- ì •ë¦¬(clean-up) ì‘ì—… ì²˜ë¦¬

- ğŸ”§ ê¸°ë³¸ ë¬¸ë²•

```jsx
useEffect(() => {
  // ì‹¤í–‰í•  ì½”ë“œ (side effect)
  return () => {
    // cleanup í•¨ìˆ˜ (ì˜µì…˜)
  };
}, [ì˜ì¡´ì„± ë°°ì—´]);
```

- ì˜ˆì œ 1: ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë Œë”ë§ë  ë•Œë§Œ ì‹¤í–‰

```jsx
useEffect(() => {
  console.log("ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë Œë”ë§ë¨");
}, []);
// [] ë¹ˆ ë°°ì—´ì´ë¯€ë¡œ ë§ˆìš´íŠ¸ ì‹œ ë”± 1ë²ˆë§Œ ì‹¤í–‰
```

- ì˜ˆì œ 2: ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰

```jsx
const [count, setCount] = useState(0);

useEffect(() => {
  console.log(`count ê°’ì´ ${count}ë¡œ ë³€ê²½ë¨`);
}, [count]);
// countê°€ ë°”ë€” ë•Œë§ˆë‹¤ ì‹¤í–‰ë¨
```

- ì˜ˆì œ 3: ì–¸ë§ˆìš´íŠ¸ ì‹œ ì •ë¦¬ ì‘ì—… ìˆ˜í–‰

```jsx
useEffect(() => {
  const timer = setInterval(() => {
    console.log("íƒ€ì´ë¨¸ ì‹¤í–‰ì¤‘...");
  }, 1000);

  return () => {
    clearInterval(timer); // ì–¸ë§ˆìš´íŠ¸ ì‹œ íƒ€ì´ë¨¸ ì •ë¦¬
    console.log("íƒ€ì´ë¨¸ ì •ë¦¬ë¨");
  };
}, []);
// ì •ë¦¬(cleanup) í•¨ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ë˜ëŠ” ì˜ì¡´ì„±ì´ ë°”ë€Œê¸° ì§ì „ì— ì‹¤í–‰
```

#### ğŸ“Œ ë™ì‘ ìˆœì„œ ì •ë¦¬

- ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ â†’ useEffect ì‹¤í–‰

- ë‹¤ìŒ ë Œë”ë§ ì „ì— (ë˜ëŠ” ì–¸ë§ˆìš´íŠ¸ ì‹œ) ì´ì „ returnì˜ ì •ë¦¬(clean-up) í•¨ìˆ˜ ì‹¤í–‰

- ì˜ì¡´ì„± ë°°ì—´ì— ë³€í™”ê°€ ìˆì„ ê²½ìš°ì—ë§Œ ë‹¤ì‹œ ì‹¤í–‰

#### ğŸ“‹ ì˜ì¡´ì„± ë°°ì—´ ì„¤ëª…

ì˜ì¡´ì„± ë°°ì—´ ì‹¤í–‰ ì‹œì 
ì—†ìŒ (useEffect(() => {...})) ë§¤ ë Œë”ë§ë§ˆë‹¤ ì‹¤í–‰
ë¹ˆ ë°°ì—´ ([]) ì²˜ìŒ ë Œë”ë§ ì‹œ í•œ ë²ˆë§Œ
íŠ¹ì • ê°’ ([value]) ê·¸ ê°’ì´ ë°”ë€” ë•Œë§Œ ì‹¤í–‰

ğŸš¨ ì£¼ì˜ì‚¬í•­

- ë¬´í•œ ë£¨í”„ì— ì£¼ì˜: ìƒíƒœ ë³€ê²½ â†’ ë¦¬ë Œë”ë§ â†’ useEffect â†’ ë‹¤ì‹œ ìƒíƒœ ë³€ê²½ ...
- ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” useEffect ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ë•Œ ì§ì ‘ asyncë¡œ ì„ ì–¸í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.
  (useEffectì˜ "ì½œë°± í•¨ìˆ˜ ìì²´ë¥¼ asyncë¡œ ì •ì˜í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.")

```jsx
useEffect(() => {
  async function fetchData() {
    const res = await fetch(...);
    const data = await res.json();
  }
  fetchData();
}, []);
// ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ë³„ë„ í•¨ìˆ˜ ì •ì˜ 
```

#### ğŸ”š ì£¼ìš” ìš©ë„

- API í˜¸ì¶œ, íƒ€ì´ë¨¸ ì„¤ì • ë“±
